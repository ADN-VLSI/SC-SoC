# Clock Divider Documentation

## Overview
A clock divider is a digital circuit that reduces the frequency of an input clock signal. It is widely used in digital systems to generate slower clock signals from a faster reference clock. This documentation describes the design, operation, and usage of a configurable clock divider module as depicted in the provided schematic.

---

## Ports Description

| Port Name | Direction | Width   | Description                                 |
|-----------|-----------|---------|---------------------------------------------|
| clk_i     | Input     | 1 bit   | Input clock signal (reference clock)        |
| div_i     | Input     | 4 bits  | Division factor (binary, 0-15)              |
| arst_ni   | Input     | 1 bit   | Asynchronous active-low reset (0 = reset)   |
| clk_o     | Output    | 1 bit   | Output divided clock signal                 |

---

## Functional Description

The clock divider generates an output clock (`clk_o`) whose frequency is a divided version of the input clock (`clk_i`). The division factor is set by the 4-bit input `div_i`. The module supports asynchronous reset via `arst_ni`.

### Key Features
- **Configurable Division**: The division ratio is set by `div_i` (from 1 to 16).
- **Dual-Edge Operation**: The design uses both rising and falling edges of the input clock for improved duty cycle accuracy (see schematic).
- **Asynchronous Reset**: The output and internal state are reset when `arst_ni` is low.

---

## Block Diagram

Refer to the attached schematic (`clk_div.svg`).
<img src="./clk_div.svg">
- The design uses two D flip-flops and multiplexers to achieve dual-edge clock division.
- The division logic is controlled by the value of `div_i`.
- The output clock is generated by combining the outputs of the two flip-flops.

---

## Operation

1. **Reset**: When `arst_ni` is low, all internal registers and the output are reset.
2. **Division**: On each edge of `clk_i`, the internal counter increments. When the counter reaches the value set by `div_i`, the output clock toggles and the counter resets.
3. **Output**: The `clk_o` output toggles at a frequency of `clk_i / (2 * div_i)` (for even division factors). For odd division factors, the duty cycle may not be exactly 50%.

---

## Example Timing Diagram

| clk_i | ↑   |     | ↓   |     | ↑   |     | ↓   |     |
|-------|-----|-----|-----|-----|-----|-----|-----|-----|
| div_i | 4   |     | 4   |     | 4   |     | 4   |     |
| clk_o | ↑   |     |     | ↓   |     | ↑   |     |     |

- For `div_i = 4`, the output clock period is 8 input clock cycles.

---

## Typical Applications
- Generating lower-frequency clocks for subsystems
- Baud rate generation in UARTs
- Power management (slower clocks for low-power modes)

---

## Schematic Reference
See `clockdivider.drawio` for the detailed circuit diagram. The design uses dual-edge triggered flip-flops and multiplexers to achieve accurate clock division.

---

## Notes
- Ensure `div_i` is not set to 0 (undefined behavior).
- The asynchronous reset (`arst_ni`) should be asserted during power-up.
- For best results, use even division factors for a 50% duty cycle.

---

## Revision History
- **v1.0** – Initial documentation (Feb 19, 2026)

---

For further details, refer to the schematic or contact the design author.
